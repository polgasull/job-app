$(document).ready(function(){function e(e,t,n){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name","user[card_"+n+"]"),a.setAttribute("value",t.card[n]),e.appendChild(a)}const t=document.querySelector("meta[name='stripe-public-key']").content,n=Stripe(t),a={base:{color:"#32325d",lineHeight:"32px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"anitaliased",fontSize:"18px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},r=n.elements().create("card",{style:a});r.mount("#card-element"),r.addEventListener("change",({error:e})=>{const t=document.getElementById("card-errors");t.textContent=e?e.message:""}),document.getElementById("new_job").addEventListener("submit",async e=>{e.preventDefault();const{token:t,error:a}=await n.createToken(r),i=document.getElementById("postJobSubmit");if(a){document.getElementById("card-errors").textContent=a.message,i.removeAttribute("disabled"),i.removeAttribute("data-disable-with"),i.value="Pagar y publicar Job"}else o(t),i.setAttribute("disabled",!0),i.value="Publicando..."});const o=t=>{const n=document.getElementById("new_job"),a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name","stripeToken"),a.setAttribute("value",t.id),n.appendChild(a),["brand","exp_month","exp_year","last4"].forEach(function(a){e(n,t,a)}),n.submit()}});