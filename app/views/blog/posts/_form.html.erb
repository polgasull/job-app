<section class="section">
  <div class="container">
    <%= simple_form_for [:blog, @post] do |f| %>
    <div class="columns">
      <div class="column">
        <div class="field">
          <div class="control">
            <label class="label f4"> <%= t('posts.main_image') %> </label>
            <div class="file is-primary">
              <label class="file-label">
                <%= f.input :image, as: :file, required: false, input_html: { class: "file-input load-image" }, label: false, wrapper: false %>
                <span class="file-cta">
                  <span class="file-icon"> <%= icon('fas', 'upload') %> </span>
                  <span class="file-label"> Subir imagen... </span>
                </span>
              </label>
            </div>
            <p> Tamaño mínimo recomendado 800x600 </p>
          </div>
        </div>    
      </div>
      <div class="column">
        <output id="list"></output>
      </div>
    </div>
    <div class="field">
      <div class="control">
        <%= f.input :title, required: true, input_html: {class: "input"}, wrapper: false, label_html: {class: "label"} %>
      </div>
    </div>
    <div class="field">
      <div class="control">
        <%= f.input :description, input_html: {class: "textarea", rows: 25}, wrapper: false, label_html: {class: "label"} %>
      </div>
    </div>
    <p class="title f3 mt4"> SEO </p>
    <div class="field">
      <div class="control">
        <%= f.input :custom_url, required: true, input_html: {class: "input"}, wrapper: false, label_html: {class: "label"}, as: :text %>
      </div>
    </div>
    <div class="field">
      <div class="control">
        <%= f.input :meta_title, required: true, input_html: {class: "input"}, wrapper: false, label_html: {class: "label"} %>
      </div>
    </div>
    <div class="field">
      <div class="control">
        <%= f.input :meta_description, required: true, input_html: {class: "textarea"}, wrapper: false, label_html: {class: "label"} %>
      </div>
    </div>
    <%= f.button :submit, class: "button is-primary" %>
    <% end %>
  </div>
</section>

<%= content_for :head do %>

  <script src="https://cdn.tiny.cloud/1/2waujryfoz8jq9ucu0b6ioeaevozjce6026p9vf6i7hpp8io/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>

<% end %>

<%= content_for :footer do %>

  <%= javascript_include_tag "helpers/image_loader.js" %>
  <script>
    tinymce.init({
      selector: '#post_description',
      plugins: 'image link media lists',
      menubar: 'insert',
      toolbar: 'undo redo | styleselect | bold italic | numlist bullist | link | alignleft aligncenter alignright alignjustify | outdent indent | image | media'
    });
  </script>

<% end %>